# Клиентская часть приложения "Streetfit"

## Содержание
1. [Технологический стек](#технологический-стек)
2. [Структура проекта](#структура-проекта)
   - [Основные директории](#основные-директории)
   - [Страницы приложения](#страницы-приложения)
3. [Установка и запуск](#установка-и-запуск)
4. [Система маршрутизации](#система-маршрутизации)
   - [Особенности реализации](#особенности-реализации)
   - [Утилиты маршрутизации](#утилиты-маршрутизации)
5. [Работа с API](#работа-с-api)
6. [Интеграция с картами](#интеграция-с-картами)
7. [Системные требования](#системные-требования)
8. [Особенности реализации](#особенности-реализации-1)
   - [Провайдеры приложения](#провайдеры-приложения)
     - [RouteProvider](#routeprovider)
     - [ThemeProvider](#themeprovider)
   - [Тема](#тема)

## Технологический стек
- **React** (функциональные компоненты, хуки)
- **Yandex Maps API v3** (интерактивные карты)
- **React Router v6** (навигация между страницами)
- **Собственные утилиты** (работа с API, защита маршрутов)

## Структура проекта

### Основные директории
```
/src
  /app/providers   # Провайдеры приложения
  /components      # UI-компоненты
  /pages           # Страницы приложения
  /utils           # Вспомогательные функции
```

### Страницы приложения
| Страница       | Путь       | Доступ           | Описание                     |
|----------------|------------|------------------|------------------------------|
| Main           | /          | Авторизованные   | Основной каркас приложения   |
| Cards          | /          | Авторизованные   | Список карточек тренировок   |
| Likes          | /likes     | Авторизованные   | Понравившиеся карточки       |
| Contacts       | /contacts  | Авторизованные   | Контакты мэтчей              |
| Login          | /login     | Гости            | Страница входа              |
| Signup         | /signup    | Гости            | Страница регистрации         |
| Onboarding     | /onboarding| Авторизованные   | Выбор локации на карте       |

## Установка и запуск

1. Установите зависимости:
```bash
npm install
```

2. Запустите приложение в режиме разработки:
```bash
npm run dev
```

## Система маршрутизации

Приложение использует React Router с защищенными маршрутами:

### Особенности реализации:
- Автоматический редирект авторизованных пользователей с `/login` и `/signup` на главную
- Защита маршрутов через `protectRoute` (проверка авторизации)
- Предзагрузка данных через `loader` перед отрисовкой страниц

### Утилиты маршрутизации
- `protectRoute` - защита авторизованных маршрутов
- `validateAccessToken` - проверка валидности токена
- `callApi` - универсальный метод API-запросов

## Работа с API

Все запросы выполняются через `callApi`:

```javascript
// Пример запроса
const response = await callApi('/user/cards');
```

## Интеграция с картами

Приложение использует Yandex Maps API v3 для:
- Отображения спортивных площадок
- Выбора локации при создании карточки
- Визуализации геоданных

## Системные требования
- Node.js v16+
- Современный браузер с поддержкой ES6+
- API ключ для Яндекс.Карт (добавляется в .env)

## Особенности реализации

### Провайдеры приложения

#### RouteProvider
Обеспечивает:
- Конфигурацию всех маршрутов приложения
- Защищенные маршруты для авторизованных пользователей
- Предзагрузку данных для страниц

#### ThemeProvider
Реализует:
- Переключение между светлой и темной темой
- Глобальные стили приложения
- Доступ к теме через useContext в любом компоненте

### Тема
- Сохранение выбора темы в localStorage
- Глобальные CSS-переменные для стилей